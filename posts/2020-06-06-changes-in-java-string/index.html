<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://damotek.github.io/www/images/favicon.png><title>Changes to String in java (from 1.7.0_06) | Hugo ʕ•ᴥ•ʔ Bear Blog</title><meta name=title content="Changes to String in java (from 1.7.0_06)"><meta name=description content="Before 1.7.0_06, String has 4 non static field:
char[] value int[] offset int count int hash Subing.substring create a String by sharing the original String&rsquo;s internal char[] value and setting offset. This saves memory and makes String.substring run in a constant time($O(1)$). Meanwhile, this feature may cause memory leak1.
http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java
public final class String implements java.io.Serializable, Comparable<String>, CharSequence { /** The value is used for character storage. */ private final char value[]; /** The offset is the first index of the storage that is used."><meta name=keywords content="Algorithms,"><meta property="og:title" content="Changes to String in java (from 1.7.0_06)"><meta property="og:description" content="Before 1.7.0_06, String has 4 non static field:
char[] value int[] offset int count int hash Subing.substring create a String by sharing the original String&rsquo;s internal char[] value and setting offset. This saves memory and makes String.substring run in a constant time($O(1)$). Meanwhile, this feature may cause memory leak1.
http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java
public final class String implements java.io.Serializable, Comparable<String>, CharSequence { /** The value is used for character storage. */ private final char value[]; /** The offset is the first index of the storage that is used."><meta property="og:type" content="article"><meta property="og:url" content="https://damotek.github.io/www/posts/2020-06-06-changes-in-java-string/"><meta property="og:image" content="https://damotek.github.io/www/images/share.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-06T09:00:00+00:00"><meta property="article:modified_time" content="2020-06-06T09:00:00+00:00"><meta property="og:site_name" content="Hugo ʕ•ᴥ•ʔ Bear"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://damotek.github.io/www/images/share.png"><meta name=twitter:title content="Changes to String in java (from 1.7.0_06)"><meta name=twitter:description content="Before 1.7.0_06, String has 4 non static field:
char[] value int[] offset int count int hash Subing.substring create a String by sharing the original String&rsquo;s internal char[] value and setting offset. This saves memory and makes String.substring run in a constant time($O(1)$). Meanwhile, this feature may cause memory leak1.
http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java
public final class String implements java.io.Serializable, Comparable<String>, CharSequence { /** The value is used for character storage. */ private final char value[]; /** The offset is the first index of the storage that is used."><meta itemprop=name content="Changes to String in java (from 1.7.0_06)"><meta itemprop=description content="Before 1.7.0_06, String has 4 non static field:
char[] value int[] offset int count int hash Subing.substring create a String by sharing the original String&rsquo;s internal char[] value and setting offset. This saves memory and makes String.substring run in a constant time($O(1)$). Meanwhile, this feature may cause memory leak1.
http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java
public final class String implements java.io.Serializable, Comparable<String>, CharSequence { /** The value is used for character storage. */ private final char value[]; /** The offset is the first index of the storage that is used."><meta itemprop=datePublished content="2020-06-06T09:00:00+00:00"><meta itemprop=dateModified content="2020-06-06T09:00:00+00:00"><meta itemprop=wordCount content="754"><meta itemprop=image content="https://damotek.github.io/www/images/share.png"><meta itemprop=keywords content="Algorithms,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style></head><body><header><a href=/ class=title><h2>Hugo ʕ•ᴥ•ʔ Bear Blog</h2></a><nav><a href=/>Home</a>
<a href=/www/bear/>Bear</a>
<a href=/www/hugo/>Hugo</a>
<a href=/blog>Blog</a></nav></header><main><content><p>Before 1.7.0_06, <code>String</code> has 4 non static field:</p><ul><li>char[] value</li><li>int[] offset</li><li>int count</li><li>int hash</li></ul><p><code>Subing.substring</code> create a String by sharing the original String&rsquo;s internal <code>char[] value</code> and setting offset. This saves memory and makes <code>String.substring</code> run in a constant time($O(1)$).
Meanwhile, this feature may cause <strong>memory leak</strong><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p><a href=http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java>http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/8deef18bb749/src/share/classes/java/lang/String.java</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>String</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>implements</span> java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Serializable</span><span style=color:#f92672>,</span> Comparable<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;,</span> CharSequence
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** The value is used for character storage. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>char</span> value<span style=color:#f92672>[];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** The offset is the first index of the storage that is used. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> offset<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** The count is the number of characters in the String. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>int</span> count<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Cache the hash code for the string */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> hash<span style=color:#f92672>;</span> <span style=color:#75715e>// Default to 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Package private constructor which shares value array for speed.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    String<span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> offset<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> count<span style=color:#f92672>,</span> <span style=color:#66d9ef>char</span> value<span style=color:#f92672>[])</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> value<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>offset</span> <span style=color:#f92672>=</span> offset<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>count</span> <span style=color:#f92672>=</span> count<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Returns a new string that is a substring of this string. The
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * substring begins at the specified &lt;code&gt;beginIndex&lt;/code&gt; and
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * extends to the character at index &lt;code&gt;endIndex - 1&lt;/code&gt;.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Thus the length of the substring is &lt;code&gt;endIndex-beginIndex&lt;/code&gt;.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;p&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Examples:
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;blockquote&gt;&lt;pre&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &#34;hamburger&#34;.substring(4, 8) returns &#34;urge&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &#34;smiles&#34;.substring(1, 5) returns &#34;mile&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;/pre&gt;&lt;/blockquote&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param      beginIndex   the beginning index, inclusive.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param      endIndex     the ending index, exclusive.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return     the specified substring.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @exception  IndexOutOfBoundsException  if the
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             &lt;code&gt;beginIndex&lt;/code&gt; is negative, or
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             &lt;code&gt;endIndex&lt;/code&gt; is larger than the length of
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             this &lt;code&gt;String&lt;/code&gt; object, or
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             &lt;code&gt;beginIndex&lt;/code&gt; is larger than
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             &lt;code&gt;endIndex&lt;/code&gt;.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> beginIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> endIndex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>beginIndex <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>beginIndex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>endIndex <span style=color:#f92672>&gt;</span> count<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>endIndex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>beginIndex <span style=color:#f92672>&gt;</span> endIndex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>endIndex <span style=color:#f92672>-</span> beginIndex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>((</span>beginIndex <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>(</span>endIndex <span style=color:#f92672>==</span> count<span style=color:#f92672>))</span> <span style=color:#f92672>?</span> <span style=color:#66d9ef>this</span> <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>offset <span style=color:#f92672>+</span> beginIndex<span style=color:#f92672>,</span> endIndex <span style=color:#f92672>-</span> beginIndex<span style=color:#f92672>,</span> value<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Since Java 1.7.0_06, <code>offset</code> and <code>count</code> fields were removed. <code>String.substring</code> makes new copies of <code>value</code>, which means we can forget about the memory leak but the runtime becomes $O(N)$ at the same time.</p><p><a href=http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/String.java>http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/lang/String.java</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>String</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>implements</span> java<span style=color:#f92672>.</span><span style=color:#a6e22e>io</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Serializable</span><span style=color:#f92672>,</span> Comparable<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;,</span> CharSequence <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** The value is used for character storage. */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>char</span> value<span style=color:#f92672>[];</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>/** Cache the hash code for the string */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> hash<span style=color:#f92672>;</span> <span style=color:#75715e>// Default to 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Allocates a new {@code String} that contains characters from a subarray
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * of the character array argument. The {@code offset} argument is the
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * index of the first character of the subarray and the {@code count}
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * argument specifies the length of the subarray. The contents of the
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * subarray are copied; subsequent modification of the character array does
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * not affect the newly created string.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param  value
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *         Array that is the source of characters
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param  offset
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *         The initial offset
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param  count
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *         The length
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @throws  IndexOutOfBoundsException
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *          If the {@code offset} and {@code count} arguments index
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *          characters outside the bounds of the {@code value} array
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>String</span><span style=color:#f92672>(</span><span style=color:#66d9ef>char</span> value<span style=color:#f92672>[],</span> <span style=color:#66d9ef>int</span> offset<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> count<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>offset <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>offset<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>count <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>count<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Note: offset or count might be near -1&gt;&gt;&gt;1.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>offset <span style=color:#f92672>&gt;</span> value<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> count<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>offset <span style=color:#f92672>+</span> count<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>copyOfRange</span><span style=color:#f92672>(</span>value<span style=color:#f92672>,</span> offset<span style=color:#f92672>,</span> offset<span style=color:#f92672>+</span>count<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Returns a string that is a substring of this string. The
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * substring begins at the specified {@code beginIndex} and
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * extends to the character at index {@code endIndex - 1}.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Thus the length of the substring is {@code endIndex-beginIndex}.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;p&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * Examples:
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;blockquote&gt;&lt;pre&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &#34;hamburger&#34;.substring(4, 8) returns &#34;urge&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &#34;smiles&#34;.substring(1, 5) returns &#34;mile&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * &lt;/pre&gt;&lt;/blockquote&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param      beginIndex   the beginning index, inclusive.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @param      endIndex     the ending index, exclusive.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @return     the specified substring.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     * @exception  IndexOutOfBoundsException  if the
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             {@code beginIndex} is negative, or
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             {@code endIndex} is larger than the length of
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             this {@code String} object, or
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             {@code beginIndex} is larger than
</span></span></span><span style=display:flex><span><span style=color:#75715e>     *             {@code endIndex}.
</span></span></span><span style=display:flex><span><span style=color:#75715e>     */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> beginIndex<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> endIndex<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>beginIndex <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>beginIndex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>endIndex <span style=color:#f92672>&gt;</span> value<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>endIndex<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> subLen <span style=color:#f92672>=</span> endIndex <span style=color:#f92672>-</span> beginIndex<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>subLen <span style=color:#f92672>&lt;</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> StringIndexOutOfBoundsException<span style=color:#f92672>(</span>subLen<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>((</span>beginIndex <span style=color:#f92672>==</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>(</span>endIndex <span style=color:#f92672>==</span> value<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>))</span> <span style=color:#f92672>?</span> <span style=color:#66d9ef>this</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> String<span style=color:#f92672>(</span>value<span style=color:#f92672>,</span> beginIndex<span style=color:#f92672>,</span> subLen<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>The auther&rsquo;s comment<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>:
Card</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=http://java-performance.info/changes-to-string-java-1-7-0_06/>http://java-performance.info/changes-to-string-java-1-7-0_06/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.reddit.com/r/programming/comments/1qw73v/til_oracle_changed_the_internal_string/cdhb77f/>https://www.reddit.com/r/programming/comments/1qw73v/til_oracle_changed_the_internal_string/cdhb77f/</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://damotek.github.io/www/blog/algorithms/>#Algorithms</a></p></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>